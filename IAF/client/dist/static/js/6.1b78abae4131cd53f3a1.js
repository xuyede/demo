webpackJsonp([6],{"70tf":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("mtWM"),i=e.n(n),s=e("P9l9"),r={name:"HighSearch",data:function(){return{value:"",timer:null,url:"http://120.78.4.92:5000/parse",entities:"",entity:"",isDisplay:!1,companySearchList:[],organizationSearchList:[]}},methods:{handle2SearchDetail:function(){var t=this,a={q:this.value,project:"finance"};i()({method:"POST",url:this.url,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:JSON.stringify(a)}).then(function(a){200===a.status&&t.dealData(a.data)})},handle2ComDetail:function(t){var a=this.companySearchList.filter(function(a){return a.com_name===t})[0].com_id;this.$router.push({name:"CompanyDetailLink",params:{com_id:a}}),this.value=""},handle2OrgDetail:function(t){this.$router.push({name:"OrganizationDetailLink",params:{org_name:t}}),this.value=""},dealData:function(t){this.isDisplay=!0,this.entities=t.entities[0].value,this.entity=t.entities[0].entity},btnGetSearch:function(){var t=this;this.loadingStart();var a=this.entities;a&&Object(s.n)({value:a}).then(function(a){200===a.data.code&&(t.companySearchList=a.data.data.companyResult,t.organizationSearchList=a.data.data.orgResult,t.value="",t.loadingClose())})},loadingStart:function(){this.loading=this.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)"})},loadingClose:function(){this.loading.close()}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"search-box"}},[e("div",{staticClass:"search clear"},[e("span",{staticClass:"iconfont search-icon"},[t._v("")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"search-inp",attrs:{type:"text",placeholder:"例如: 我想看/有没有 + 名称"},domProps:{value:t.value},on:{input:function(a){a.target.composing||(t.value=a.target.value)}}}),t._v(" "),e("button",{staticClass:"search-btn",on:{click:function(a){""!=t.value&&t.handle2SearchDetail(t.value)}}},[t._v("搜索")])]),t._v(" "),e("div",{staticClass:"ifSearch"},[t.isDisplay?e("ul",[e("li",[t._v("主体 : "+t._s(t.entities))]),t._v(" "),e("li",[t._v("所在区域 : "+t._s(t.entity))]),t._v(" "),e("el-button",{on:{click:t.btnGetSearch}},[t._v("查找")])],1):t._e(),t._v(" "),t.companySearchList.length>0||t.organizationSearchList.length>0?e("div",{staticClass:"search-wrapper"},[t.companySearchList.length>0?e("ul",{staticClass:"search-company"},[e("p",[t._v("公司")]),t._v(" "),t._l(t.companySearchList,function(a,n){return e("a",{key:n,on:{click:function(e){return t.handle2ComDetail(a.com_name)}}},[t._m(0,!0),t._v(" "),e("span",[t._v(t._s(a.com_name))]),t._v(" "),e("span",[t._v(t._s(a.tag))])])})],2):t._e(),t._v(" "),t.organizationSearchList.length>0?e("ul",{staticClass:"search-organization"},[e("p",[t._v("机构")]),t._v(" "),e("li",t._l(t.organizationSearchList,function(a,n){return e("a",{key:n,on:{click:function(e){return t.handle2OrgDetail(a.org_name)}}},[t._m(1,!0),t._v(" "),e("span",[t._v(t._s(a.org_name))]),t._v(" "),e("span",[t._v(t._s(a.org_type))])])}),0)]):t._e()]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("img",{attrs:{src:e("+GsC"),alt:""}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("img",{attrs:{src:e("+GsC"),alt:""}})])}]};var o=e("VU/8")(r,c,!1,function(t){e("WGPK")},"data-v-c3cb1364",null);a.default=o.exports},WGPK:function(t,a){}});