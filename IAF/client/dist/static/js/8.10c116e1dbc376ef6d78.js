webpackJsonp([8],{k64s:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("UaxH"),o=a("P9l9"),i={name:"VsCompany",components:{CommonSearch:n.a},data:function(){return{titleList:[{create_time:"成立时间"},{tag:"行业"},{round:"轮次"},{time:"最新一轮融资时间"},{sum:"最新一轮融资金额"},{investor:"最新一轮融资投资方"},{first_time:"第一轮融资时间"},{count:"投资方总数"}],tableData:[],companyArray:[],loading:{}}},computed:{tableWidth:function(){return 100/(this.companyArray.length+1)}},watch:{"$route.params":function(){var t=this.$route.params.data&&this.$route.params.data.comName.split(","),e=this.$route.params.data&&this.$route.params.data.comId.split(",");t&&e&&(this.companyArray=t,this.getCompanyData(e))}},methods:{handleCommand:function(t){1==+t?this.$router.push({name:"NewsLink"}):2==+t?this.$router.push({name:"CompanyLink"}):3==+t&&this.$router.push({name:"OrganizationLink"})},getCompanyData:function(t){var e=this,a=t.map(function(t){return Object(o.d)({com_id:t})});Promise.all(a).then(function(t){return e.dealCompanyData(t)})},loadingStart:function(){this.loading=this.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)"})},loadingClose:function(){this.loading.close()},dealCompanyData:function(t){for(var e=t.map(function(t){var e=t.data.data,a=e.create_time,n=e.tag,o=e.round,i=e.invest_event[0]&&e.invest_event[0].time||"-",s=e.invest_event[0]&&e.invest_event[0].sum||e.invest_event[0].invest_money||"-",r=e.invest_event[0]&&e.invest_event[0].investor||"-",l=e.invest_event[0]&&e.invest_event[0].time||"-",c=e.invest_event.length||0;return 1===e.invest_event.length&&"尚未获投"===e.invest_event[0].round&&(c=0),{create_time:a,tag:n||"-",round:o,time:i,sum:s,investor:r,first_time:l,count:c}}),a=Object.keys(e[0]).length,n=[],o=this.titleList,i=function(t){var a={},i={key:Object.entries(o[t])[0][0],value:Object.entries(o[t])[0][1]},s=i.key,r=i.value;e.forEach(function(t,e){a.title=r,a["company"+e]=t[s]}),n[t]=a},s=0;s<a;s++)i(s);this.tableData=n,this.loadingClose()}},created:function(){this.loadingStart();var t=this.$route.params.data.comName.split(","),e=this.$route.params.data.comId.split(",");this.companyArray=t,this.getCompanyData(e)}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"vs-company-box"}},[a("common-search"),t._v(" "),a("div",{staticClass:"vs-company-nav"},[a("router-link",{attrs:{tag:"span",to:{name:"HomeLink"}}},[t._v("首页 > ")]),t._v(" "),a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                公司"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown","show-timeout":"100","hide-timeout":"100"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"1"}},[t._t("default",[t._v("")]),t._v(" 新闻\n                    ")],2),t._v(" "),a("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"2"}},[t._t("default",[t._v("")]),t._v(" 公司\n                    ")],2),t._v(" "),a("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"3"}},[t._t("default",[t._v("")]),t._v(" 机构\n                ")],2)],1)],1),t._v(" "),a("span",[t._v("公司对比")])],1),t._v(" "),a("el-table",{staticClass:"company-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{style:{width:t.tableWidth+"%"},attrs:{prop:"title",align:"center"}}),t._v(" "),t._l(t.companyArray,function(e,n){return a("el-table-column",{key:n,style:{width:t.tableWidth+"%"},attrs:{prop:"company"+n,label:e,align:"center"}})})],2)],1)},staticRenderFns:[]};var r=a("VU/8")(i,s,!1,function(t){a("nq1T")},"data-v-497cf1d2",null);e.default=r.exports},nq1T:function(t,e){}});