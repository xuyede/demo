webpackJsonp([6],{VOcJ:function(t,a){},lfZz:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("xkf2"),n=e("UaxH"),o=e("P9l9"),i={name:"News",components:{CommonSearch:n.a,ChooseTags:s.a},data:function(){return{currentPage:1,newsList:[],totalNews:1e3,chooseArray0:void 0,chooseArray1:void 0,tags:[],chooseTagData:{},loading:{}}},watch:{tags:function(){this.currentPage=1;for(var t=[],a=0;a<2;a++)t.push({flag:this["chooseArray"+a].flag,data:this["chooseArray"+a].data.map(function(t){return t.name})});var e={chooseParam:t,page:this.currentPage};this.getChooseNewsData(e)}},methods:{handleCommand:function(t){1==+t?this.$router.push({name:"NewsLink"}):2==+t?this.$router.push({name:"CompanyLink"}):3==+t&&this.$router.push({name:"OrganizationLink"})},handleChooseTag:function(t){var a=this;this.tags=t.data.tags,t.data.chooseData.forEach(function(t,e){var s=t.flag,n=t.choosedList;a["chooseArray"+e]={flag:s,data:n}})},handleCurrentChange:function(t){if(0===this.tags.length)this.getNewsData(t);else{for(var a=[],e=0;e<2;e++)a.push({flag:this["chooseArray"+e].flag,data:this["chooseArray"+e].data.map(function(t){return t.name})});var s={chooseParam:a,page:t};this.getChooseNewsData(s)}},getNewsData:function(t,a){var e=this;this.loadingStart(),Object(o.h)({page:t}).then(function(t){200===t.data.code&&e.dealNewsData(t.data.data,a)})},dealNewsData:function(t,a){this.newsList=t.news,a&&(this.totalNews=t.totalNews,this.chooseTagData={tags:[],data:[{tag:"行业",list:t.newsType,flag:"field",choosedList:[]},{tag:"时间",list:t.newsTime,flag:"create_time",choosedList:[]}]}),this.loadingClose(),document.documentElement.scrollTo(0,530)},getChooseNewsData:function(t){var a=this;this.loadingStart(),Object(o.s)(t).then(function(t){200===t.data.code&&a.dealChooseNewsData(t.data.data)})},dealChooseNewsData:function(t){this.totalNews=t.totalLength,this.newsList=t.result,this.loadingClose()},loadingStart:function(){this.loading=this.$loading({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)"})},loadingClose:function(){this.loading.close()}},created:function(){this.loadingStart(),this.getNewsData(1,!0),document.documentElement.scrollTo(0,530)}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"news-box"},[e("common-search"),t._v(" "),e("div",{staticClass:"news-nav"},[e("router-link",{attrs:{tag:"span",to:{name:"HomeLink"}}},[t._v("首页 > ")]),t._v(" "),e("el-dropdown",{on:{command:t.handleCommand}},[e("span",{staticClass:"el-dropdown-link"},[t._v("\n                新闻"),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown","show-timeout":"100","hide-timeout":"100"},slot:"dropdown"},[e("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"1"}},[t._t("default",[t._v("")]),t._v(" 新闻\n                    ")],2),t._v(" "),e("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"2"}},[t._t("default",[t._v("")]),t._v(" 公司\n                    ")],2),t._v(" "),e("el-dropdown-item",{staticClass:"iconfont",attrs:{command:"3"}},[t._t("default",[t._v("")]),t._v(" 机构\n                ")],2)],1)],1)],1),t._v(" "),e("choose-tags",{attrs:{chooseTagData:t.chooseTagData},on:{transferData:t.handleChooseTag}}),t._v(" "),e("p",[t._v("\n        共 "),e("span",{style:{color:"rgb(255, 136, 102)"}},[t._v(t._s(t.totalNews))]),t._v(" 条结果\n    ")]),t._v(" "),t.newsList.length>0?e("ul",{staticClass:"news-list"},t._l(t.newsList,function(a,s){return e("li",{key:s},[t._m(0,!0),t._v(" "),e("div",{staticClass:"news-detail"},[e("p",[e("a",{attrs:{href:a.link,target:"_blank"}},[t._v(" "+t._s(a.title)+" ")])]),t._v(" "),e("p",[e("span",[t._v(t._s(a.tag))]),t._v(" "),e("span",[t._v("|")]),t._v(" "),e("span",[t._v(t._s(a.create_time))]),t._v(" "),e("span",[t._v("|")]),t._v(" "),e("span",[t._v("出处:"+t._s(a.source))])])])])}),0):e("p",{staticClass:"news-load"},[t._v("没有相关数据")]),t._v(" "),e("div",{staticClass:"news-pagination-box clear"},[e("el-pagination",{staticClass:"news-pagination",attrs:{"current-page":t.currentPage,"page-size":20,layout:"prev, pager, next, jumper",total:t.totalNews},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a}}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"img-box"},[a("img",{attrs:{src:e("+GsC"),alt:""}})])}]};var c=e("VU/8")(i,r,!1,function(t){e("VOcJ")},"data-v-69aaa8e3",null);a.default=c.exports}});